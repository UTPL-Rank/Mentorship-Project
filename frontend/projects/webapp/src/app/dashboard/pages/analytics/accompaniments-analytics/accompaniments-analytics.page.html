<h4 class="my-4">Estadísticas de los Acompañamientos realizados</h4>
<p *ngIf="!loaded">Loading</p>

<ng-container *ngIf="loaded">
  <div class="form-group row">
    <div class="col-xl-3 col-lg-4 col-md-6">
      <label class="col-form-label">Filtrar por Área</label>
      <select
        class="form-control"
        (change)="filterArea($event.target.value)"
        [disabled]="!!selectedDegree"
      >
        <option value="">Seleccionar una Área</option>
        <option [value]="area" *ngFor="let area of areas">
          {{area | titlecase}}
        </option>
      </select>
    </div>
    <div class="col-xl-3 col-lg-4 col-md-6">
      <label class="col-form-label">Filtrar por Carrera</label>
      <select class="form-control" (change)="filterDegree($event.target.value)">
        <option value="">Seleccionar una Carrera</option>
        <option [value]="degree" *ngFor="let degree of degrees">
          {{degree | titlecase}}
        </option>
      </select>
    </div>
  </div>

  <sgm-problems-degree-chart
    [data]="accompaniments"
    *ngIf="!!selectedArea && !selectedDegree"
  ></sgm-problems-degree-chart>
  <div class="row">
    <div class="col-lg-6" *ngIf="!selectedArea && !selectedDegree">
      <sgm-problems-area-chart
        [data]="accompaniments"
      ></sgm-problems-area-chart>
    </div>
    <div class="col-lg-6" *ngIf="!!selectedArea && !selectedDegree">
      <sgm-degrees-chart [data]="accompaniments"></sgm-degrees-chart>
    </div>
    <div class="col-lg-6">
      <sgm-problems-chart [data]="accompaniments"></sgm-problems-chart>
    </div>
    <div class="col-lg-6" *ngIf="!selectedArea && !selectedDegree">
      <sgm-areas-chart [data]="accompaniments"></sgm-areas-chart>
    </div>
    <div class="col-lg-6">
      <sgm-following-chart [data]="accompaniments"></sgm-following-chart>
    </div>
  </div>
</ng-container>
