<sgm-page-header>
  <sgm-page-header-title>
    Áreas Académicas
  </sgm-page-header-title>
  <p class="mb-0 ">
    A continuación se muestra las lista de las Áreas Académicas que contienen los mentores, estudiantes y
    acompañamientos realizados
    en la plataforma.
  </p>
</sgm-page-header>

<ng-container *ngIf="areaStats | async">
  <section class="py-6 py-md-9">
    <div class="container">
      <!-- areas stats -->
      <ng-container *ngTemplateOutlet="areasCards"></ng-container>
    </div>

    <div class="container">
      <!-- table of students -->
      <ng-container *ngTemplateOutlet="navTemplate"></ng-container>
    </div>
  </section>
</ng-container>

<ng-template #areasCards>
  <div class="mb-6 row">
    <ng-container *ngFor="let area of areaStats | async ">
      <div class="mb-3 col-12 col-sm-6 col-xl mb-md-6">
        <div class="shadow card bg-light lift" [routerLink]="[
                    '/panel-control',
                    periodId,
                    'generar-reportes',
                    'areas-academicas',
                    area.id
                  ]">
          <div class="card-body" [ngClass]="{
              'badge-primary': area.id === 'salud',
            'badge-secondary': area.id === 'economicas-empresariales' || area.id === 'administrativa',
            'badge-success': area.id === 'exactas-naturales' || area.id === 'biologica',
            'badge-info': area.id === 'sociales-educacion-humanidades' || area.id === 'sociohumanistica',
            'badge-warning': area.id === 'ingenierias-arquitectura' || area.id === 'tecnica'}">

            <!-- card-title -->
            <h6 class="mb-2 text-nowrap overflow-elipsis">
              {{area.name |titlecase}}
            </h6>

            <!-- mentors count -->
            <p class="mb-0 small">
              <b>{{area.mentors.length}}</b> Mentores
              <br/>
              <b>{{area.studentsCount}}</b> Estudiantes nuevos
              <br/>
              <b>{{area.accompanimentsCount}}</b> Acompañamientos
            </p>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</ng-template>

<ng-template #navTemplate></ng-template>
